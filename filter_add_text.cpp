// (C) 2017 by folkert van heusden, released under AGPL v3.0
#include <string>
#include <string.h>
#include <time.h>

#include "filter_add_text.h"
#include "error.h"
#include "interface.h"
#include "utils.h"

constexpr unsigned char font[128][8][8] = {
	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 255, 255, 255, 255, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 255, 0 },
		{ 255, 0, 255, 0, 0, 255, 0, 255 },
		{ 255, 0, 0, 0, 0, 0, 0, 255 },
		{ 255, 0, 255, 0, 0, 255, 0, 255 },
		{ 255, 0, 0, 255, 255, 0, 0, 255 },
		{ 0, 255, 0, 0, 0, 0, 255, 0 },
		{ 0, 0, 255, 255, 255, 255, 0, 0 }
	},

	{
		{ 0, 0, 255, 255, 255, 255, 0, 0 },
		{ 0, 255, 255, 255, 255, 255, 255, 0 },
		{ 255, 255, 0, 255, 255, 0, 255, 255 },
		{ 255, 255, 255, 255, 255, 255, 255, 255 },
		{ 255, 255, 255, 255, 255, 255, 255, 255 },
		{ 255, 255, 0, 255, 255, 0, 255, 255 },
		{ 0, 255, 255, 0, 0, 255, 255, 0 },
		{ 0, 0, 255, 255, 255, 255, 0, 0 }
	},

	{
		{ 0, 255, 255, 0, 255, 255, 0, 0 },
		{ 255, 255, 255, 255, 255, 255, 255, 0 },
		{ 255, 255, 255, 255, 255, 255, 255, 0 },
		{ 255, 255, 255, 255, 255, 255, 255, 0 },
		{ 0, 255, 255, 255, 255, 255, 0, 0 },
		{ 0, 0, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 255, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 255, 255, 0, 0 },
		{ 255, 255, 255, 255, 255, 255, 255, 0 },
		{ 0, 255, 255, 255, 255, 255, 0, 0 },
		{ 0, 0, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 255, 255, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 255, 0, 0 },
		{ 255, 255, 255, 255, 255, 255, 255, 0 },
		{ 0, 255, 0, 255, 0, 255, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 255, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 255, 255, 0, 0 },
		{ 255, 255, 255, 255, 255, 255, 255, 0 },
		{ 255, 255, 255, 255, 255, 255, 255, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 255, 255, 255, 255, 255, 255, 255 },
		{ 255, 255, 255, 255, 255, 255, 255, 255 },
		{ 255, 255, 255, 255, 255, 255, 255, 255 },
		{ 255, 255, 255, 0, 0, 255, 255, 255 },
		{ 255, 255, 255, 0, 0, 255, 255, 255 },
		{ 255, 255, 255, 255, 255, 255, 255, 255 },
		{ 255, 255, 255, 255, 255, 255, 255, 255 },
		{ 255, 255, 255, 255, 255, 255, 255, 255 }
	},

	{
		{ 0, 0, 255, 255, 255, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 255, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 255, 0 },
		{ 255, 0, 0, 0, 0, 0, 255, 0 },
		{ 255, 0, 0, 0, 0, 0, 255, 0 },
		{ 0, 255, 0, 0, 0, 255, 0, 0 },
		{ 0, 0, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 255, 0, 0, 0, 255, 255, 255 },
		{ 255, 0, 255, 255, 255, 0, 255, 255 },
		{ 0, 255, 255, 255, 255, 255, 0, 255 },
		{ 0, 255, 255, 255, 255, 255, 0, 255 },
		{ 0, 255, 255, 255, 255, 255, 0, 255 },
		{ 255, 0, 255, 255, 255, 0, 255, 255 },
		{ 255, 255, 0, 0, 0, 255, 255, 255 },
		{ 255, 255, 255, 255, 255, 255, 255, 255 }
	},

	{
		{ 0, 0, 0, 0, 255, 255, 255, 255 },
		{ 0, 0, 0, 0, 0, 0, 255, 255 },
		{ 0, 0, 0, 0, 0, 255, 0, 255 },
		{ 0, 255, 255, 255, 255, 0, 0, 255 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 255, 255, 255, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 255, 0, 0 },
		{ 0, 255, 0, 0, 0, 255, 0, 0 },
		{ 0, 255, 0, 0, 0, 255, 0, 0 },
		{ 0, 0, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 255, 255, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 255, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 255, 0, 0 },
		{ 0, 0, 255, 0, 0, 255, 0, 0 },
		{ 0, 0, 255, 0, 255, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 0, 0, 0, 0, 0 },
		{ 255, 255, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 255, 255, 255, 255, 0, 0 },
		{ 0, 0, 255, 0, 0, 255, 0, 0 },
		{ 0, 0, 255, 255, 255, 255, 0, 0 },
		{ 0, 0, 255, 0, 0, 255, 0, 0 },
		{ 0, 0, 255, 0, 0, 255, 0, 0 },
		{ 255, 255, 255, 0, 0, 255, 0, 0 },
		{ 255, 255, 0, 255, 255, 255, 0, 0 },
		{ 0, 0, 0, 255, 255, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 255, 0, 0 },
		{ 0, 0, 255, 255, 255, 0, 0, 0 },
		{ 255, 255, 255, 0, 255, 255, 255, 0 },
		{ 0, 0, 255, 255, 255, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 255, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 255, 255, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 255, 255, 255 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 255, 255, 255 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 255, 255, 255, 255 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 255, 255, 255 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 255, 255, 255 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 255, 255, 255, 255 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 255, 255, 255, 255 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 0, 0, 0, 0, 0, 0, 255 },
		{ 0, 255, 0, 0, 0, 0, 255, 0 },
		{ 0, 0, 255, 0, 0, 255, 0, 0 },
		{ 0, 0, 0, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 255, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 255, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 255, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 255 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 255 },
		{ 0, 0, 0, 0, 0, 0, 255, 0 },
		{ 0, 0, 0, 0, 0, 255, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 255, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 255, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 255 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 255, 255, 255 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 255, 0, 0, 0 },
		{ 255, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 255, 0, 0, 0 },
		{ 255, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 255, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 255, 255, 0, 0, 0 },
		{ 0, 255, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 255, 255, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 255, 255, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 0, 0, 0, 0, 0 },
		{ 255, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 255, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 255, 0, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 255, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 255, 255, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 255, 255, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 255, 0, 0, 0 },
		{ 0, 0, 255, 255, 0, 0, 0, 0 },
		{ 0, 255, 255, 0, 0, 0, 0, 0 },
		{ 255, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 255, 0, 0, 0 },
		{ 0, 0, 255, 255, 0, 0, 0, 0 },
		{ 0, 255, 255, 0, 0, 0, 0, 0 },
		{ 255, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 0, 255, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 0, 0, 255, 0, 0, 0 },
		{ 255, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 255, 255, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 255, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 255, 255, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 255, 255, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 255, 0, 0, 0, 0 },
		{ 255, 0, 255, 0, 0, 0, 0, 0 },
		{ 255, 255, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 255, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 255, 0, 255, 255, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 255, 0, 0, 255, 0, 0, 0 },
		{ 255, 255, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 255, 255, 0, 0, 0 },
		{ 255, 0, 0, 255, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 255, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 255, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 255, 255, 0, 255, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 255, 255, 0, 0, 0, 0 },
		{ 255, 255, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 255, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 255, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 255, 255, 0, 0, 0 },
		{ 0, 255, 255, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 255, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 255, 255, 0, 0, 0 },
		{ 255, 0, 0, 255, 255, 0, 0, 0 },
		{ 0, 255, 255, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 }
	},

	{
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 255, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 0, 255, 0, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 255, 255, 0, 0, 0, 0 },
		{ 255, 255, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 255, 255, 0, 0, 0, 0 },
		{ 255, 255, 0, 0, 255, 0, 0, 0 },
		{ 255, 255, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 255, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 255, 255, 0, 0, 0 },
		{ 255, 0, 0, 255, 255, 0, 0, 0 },
		{ 0, 255, 255, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 255, 255, 0, 0, 0, 0 },
		{ 255, 255, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 255, 255, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 255, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 255, 255, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 255, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 0, 255, 0, 0, 0 },
		{ 255, 0, 0, 255, 255, 0, 0, 0 },
		{ 0, 255, 255, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 255, 0, 0, 0 },
		{ 0, 255, 255, 255, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 255, 255, 255, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 0, 255, 255, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 255, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 255, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 0, 0, 255, 0, 0, 0, 0, 0 },
		{ 255, 255, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	},

	{
		{ 0, 255, 0, 0, 0, 0, 0, 0 },
		{ 255, 0, 255, 0, 255, 0, 0, 0 },
		{ 0, 0, 0, 255, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 },
		{ 0, 0, 0, 0, 0, 0, 0, 0 }
	}

};

void find_text_dim(const char *const in, int *const n_lines, int *const n_cols)
{
	*n_lines = 1;
	*n_cols = 0;

	const int len = strlen(in);
	int cur_ll = 0;

	for(int i=0; i<len; i++) {
		if (in[i] == '\\' && in[i + 1] == 'n') {
			if (cur_ll > *n_cols)
				*n_cols = cur_ll;

			(*n_lines)++;
			cur_ll = 0;
			i++;
		}
		else {
			cur_ll++;
		}
	}

	if (cur_ll > *n_cols)
		*n_cols = cur_ll;
}

std::string unescape(const std::string & in, const uint64_t ts, source *const s)
{
	time_t now = (time_t)(ts / 1000 / 1000);
	struct tm ptm;
	localtime_r(&now, &ptm);

	int len = in.size();
	int bytes = len + 4096;

	char *text_out = (char *)malloc(bytes);
	if (!text_out)
		error_exit(true, "out of memory while allocating %d bytes", bytes);

	strftime(text_out, bytes, in.c_str(), &ptm);

	std::string work = text_out;
	free(text_out);

	meta *m = s -> getMeta();

	work = search_replace(work, "$http-viewers$", myformat("%u", m -> getInt("http-viewers").second));
	work = search_replace(work, "$pixels-changed$", myformat("%.2f%%", m -> getDouble("pixels-changed").second));
	work = search_replace(work, "$width$", myformat("%d", s -> get_width()));
	work = search_replace(work, "$height$", myformat("%d", s -> get_height()));
	work = search_replace(work, "$name$", NAME);
	work = search_replace(work, "$version$", VERSION);

	return work;
}

filter_add_text::filter_add_text(const std::string & whatIn, const text_pos_t tpIn, source *const s) : what(whatIn), tp(tpIn), s(s)
{
}

filter_add_text::~filter_add_text()
{
}

void add_text(unsigned char *const img, const int width, const int height, const char *const text, const int xpos, const int ypos)
{
	int cx = 0, cy = 0;
	const int len = strlen(text);

	for(int loop=0; loop<len; loop++)
	{
		if (text[loop] == '\\' && text[loop + 1] == 'n') {
			cy++;
			cx = 0;
			loop++; // ignore 'n'
			continue;
		}

		const int cur_char = text[loop] & 127;

		for(int y=0; y<8; y++) {
			const int realy = ypos + y + cy * 9;
			if (realy >= height || realy < 0)
				break;

			const int y_offset = realy * width * 3;

			for(int x=0; x<8; x++) {
				int realx = xpos + x + 8 * cx;
				if (realx >= width || realx < 0)
					break;

				int offset = y_offset + realx * 3;

				img[offset + 0] = font[cur_char][y][x];
				img[offset + 1] = font[cur_char][y][x];
				img[offset + 2] = font[cur_char][y][x];
			}
		}

		cx++;
	}
}

void print_timestamp(unsigned char *const img, const int width, const int height, const std::string & text, const text_pos_t n_pos, const uint64_t ts, source *const s)
{
	int x = 0, y = 0;

	std::string text_out = unescape(text, ts, s);

	int n_lines = 0, max_ll = 0;
	find_text_dim(text_out.c_str(), &n_lines, &max_ll);

	if (n_pos == upper_left || n_pos == upper_center || n_pos == upper_right)
		y = 1;
	else if (n_pos == center_left || n_pos == center_center || n_pos == center_right)
		y = (height / 2) - 4;
	else if (n_pos == lower_left || n_pos == lower_center || n_pos == lower_right)
		y = height - 9 * n_lines;

	if (n_pos == upper_left || n_pos == center_left || n_pos == lower_left)
	{
		x = 1;
	}
	else if (n_pos == upper_center || n_pos == center_center || n_pos == lower_center)
	{
		x = (width / 2) - (max_ll / 2) * 8;
	}
	else if (n_pos == upper_right || n_pos == center_right || n_pos == lower_right)
	{
		x = width - max_ll * 8;
	}

	add_text(img, width, height, text_out.c_str(), x, y);
}

void filter_add_text::apply(const uint64_t ts, const int w, const int h, const uint8_t *const prev, uint8_t *const in_out)
{
	print_timestamp(in_out, w, h, what.c_str(), tp, ts, s);
}
